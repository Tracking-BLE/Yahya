#------------------------------------------------------------
#        Script MySQL.
#------------------------------------------------------------


#------------------------------------------------------------
# Table: actif
#------------------------------------------------------------

CREATE TABLE actif(
        id  Int  Auto_increment  NOT NULL ,
        nom Varchar (50) NOT NULL
	,CONSTRAINT actif_PK PRIMARY KEY (id)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: beacon
#------------------------------------------------------------

CREATE TABLE beacon(
        matricul Varchar (50) NOT NULL ,
        id       Int NOT NULL
	,CONSTRAINT beacon_PK PRIMARY KEY (matricul)

	,CONSTRAINT beacon_actif_FK FOREIGN KEY (id) REFERENCES actif(id)
	,CONSTRAINT beacon_actif_AK UNIQUE (id)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: camion
#------------------------------------------------------------

CREATE TABLE camion(
        matricul        Varchar (50) NOT NULL ,
        localisation    Varchar (50) NOT NULL ,
        tempe           Varchar (50) NOT NULL ,
        matricul_beacon Varchar (50)
	,CONSTRAINT camion_PK PRIMARY KEY (matricul)

	,CONSTRAINT camion_beacon_FK FOREIGN KEY (matricul_beacon) REFERENCES beacon(matricul)
)ENGINE=InnoDB;


#------------------------------------------------------------
# Table: zone
#------------------------------------------------------------

CREATE TABLE zone(
        numero   Int NOT NULL ,
        matricul Varchar (50)
	,CONSTRAINT zone_PK PRIMARY KEY (numero)

	,CONSTRAINT zone_beacon_FK FOREIGN KEY (matricul) REFERENCES beacon(matricul)
)ENGINE=InnoDB;

